import{s as b,t as C,v as k,r as h,o as I,b as g,c as p,e as o,w as n,x as L,h as Q,d as a,Q as d,y as U,z as _,A as y,p as V,f as P,G,B as q,C as S,D as B}from"./index.6df8cea5.js";import{Q as N}from"./QImg.99b6abe3.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";const f=r=>(V("data-v-36405c98"),r=r(),P(),r),A={class:"flex flex-center",style:{height:"100vh"}},z={key:0},D=f(()=>a("span",{class:"text-body1 text-grey-3"}," Lets begin with your google login ",-1)),M={class:"q-mt-lg flex"},W=f(()=>a("img",{width:"40px",src:`
https://img.favpng.com/15/12/25/google-logo-google-adwords-g-suite-google-account-png-favpng-ZPDpvjf5PW8XaAnw6V9PQkcut.jpg`},null,-1)),Z={key:1},$=f(()=>a("div",{class:"text-body1 text-grey-3"},"Tell me about yourself",-1)),j={class:"row"},E={class:"col-4 flex flex-center"},T={class:"col-8"},F=Q('<svg style="position:absolute;bottom:0px;" width="100%" id="svg" viewBox="0 0 1440 500" xmlns="http://www.w3.org/2000/svg" class="transition duration-300 ease-in-out delay-150" data-v-36405c98><defs data-v-36405c98><linearGradient id="gradient" x1="50%" y1="0%" x2="50%" y2="100%" data-v-36405c98><stop offset="5%" stop-color="#cfbdec88" data-v-36405c98></stop><stop offset="95%" stop-color="#742ff688" data-v-36405c98></stop></linearGradient></defs><path d="M 0,500 C 0,500 0,166 0,166 C 89.74162679425837,168.50717703349284 179.48325358851673,171.01435406698565 269,162 C 358.51674641148327,152.98564593301435 447.8086124401914,132.44976076555022 549,142 C 650.1913875598086,151.55023923444978 763.2822966507177,191.18660287081337 874,187 C 984.7177033492823,182.81339712918663 1093.0622009569377,134.80382775119617 1187,124 C 1280.9377990430623,113.19617224880383 1360.468899521531,139.5980861244019 1440,166 C 1440,166 1440,500 1440,500 Z" stroke="none" stroke-width="0" fill="url(#gradient)" class="transition-all duration-300 ease-in-out delay-150 path-0" data-v-36405c98></path><defs data-v-36405c98><linearGradient id="gradient" x1="50%" y1="0%" x2="50%" y2="100%" data-v-36405c98><stop offset="5%" stop-color="#cfbdecff" data-v-36405c98></stop><stop offset="95%" stop-color="#742ff6ff" data-v-36405c98></stop></linearGradient></defs><path d="M 0,500 C 0,500 0,333 0,333 C 83.50239234449762,338.1387559808612 167.00478468899524,343.2775119617225 282,330 C 396.99521531100476,316.7224880382775 543.4832535885167,285.0287081339713 628,279 C 712.5167464114833,272.9712918660287 735.0622009569377,292.6076555023924 815,315 C 894.9377990430623,337.3923444976076 1032.267942583732,362.5406698564594 1146,366 C 1259.732057416268,369.4593301435406 1349.8660287081339,351.22966507177034 1440,333 C 1440,333 1440,500 1440,500 Z" stroke="none" stroke-width="0" fill="url(#gradient)" class="transition-all duration-300 ease-in-out delay-150 path-1" data-v-36405c98></path></svg>',1),X={name:"LoginPage",setup(r){const c=b(),m=C(),l=k(),u=h(0),t=h({uid:"",fullname:"",roll:"",photoURL:"",email:""}),x=()=>{console.log("login in with google");const i=new G,s=q();S(s,i).then(async e=>{console.log(e);const v=await l.fetchLoggedInUser();console.log(v),v&&c.push("/main"),t.value={googleUID:e.user.uid,fullname:e.user.displayName,roll:"20fh1a05",email:e.user.email,photoURL:e.user.photoURL},u.value=1}).catch(e=>{console.log(e)})},w=()=>{console.log(t.value),console.log(l.user),B.post("/users",t.value).then(i=>{l.user=t.value,c.push("/main")}).catch(i=>{m.notify({message:"Error in submitting data",color:"red"})})};return I(()=>{setTimeout(()=>{l.user&&l.user.email&&(c.push("/main"),m.notify({message:"You are already logged in",color:"green"}))},1e3)}),(i,s)=>(g(),p("div",A,[o(L,{style:{"z-index":"100"},class:"bg rounded container q-gutter-sm"},{default:n(()=>[u.value==0?(g(),p("div",z,[D,a("div",M,[o(d,{filled:"",size:"100",flat:""},{default:n(()=>[o(U,null,{default:n(()=>[W]),_:1})]),_:1}),o(d,{class:"text-white rounded flex column",style:{background:"#4285f4"},label:"Login with Google",flat:"",color:"primary",onClick:x})])])):(g(),p("div",Z,[o(d,{icon:"arrow_back_ios",flat:"",round:"",style:{"align-self":"flex-start"},onClick:s[0]||(s[0]=e=>u.value=0)}),$,a("div",j,[a("div",E,[o(N,{class:"q-mx-sm",width:"150px",style:{"border-radius":"50%"},src:t.value.photoURL},null,8,["src"])]),a("div",T,[o(_,{color:"secondary",filled:"",modelValue:t.value.roll,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value.roll=e),label:"Roll No.",class:"q-mt-sm",style:{width:"100%"},rules:[e=>e.length==10||"Incorrect roll"]},{prepend:n(()=>[o(y,{name:"tag"})]),_:1},8,["modelValue","rules"]),o(_,{color:"secondary",filled:"",modelValue:t.value.fullname,"onUpdate:modelValue":s[2]||(s[2]=e=>t.value.fullname=e),class:"q-mt-sm",label:"Full Name",style:{width:"100%"}},{prepend:n(()=>[o(y,{name:"person"})]),_:1},8,["modelValue"])])]),o(d,{label:"Submit",size:"lg",color:"primary",flat:"",class:"q-mt-lg rounded-sm shadow-primary bg-primary text-white",onClick:w})]))]),_:1}),F]))}};var K=R(X,[["__scopeId","data-v-36405c98"]]);export{K as default};
